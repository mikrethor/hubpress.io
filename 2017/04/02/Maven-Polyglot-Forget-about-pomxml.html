<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Maven Polyglot - Forget about pom.xml</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://mikrethor.github.io/blog/favicon.ico">

    <link rel="stylesheet" type="text/css" href="//mikrethor.github.io/blog/themes/casper/assets/css/screen.css?v=1571362660066" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />

    <link rel="canonical" href="https://mikrethor.github.io/blog/2017/04/02/Maven-Polyglot-Forget-about-pomxml.html" />
    <meta name="referrer" content="origin" />
    
    <meta property="og:site_name" content="Xavier&#x27;s Thoughts" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Maven Polyglot - Forget about pom.xml" />
    <meta property="og:description" content="Fed up of pom xml files when you use Maven? Here is the solution : Maven Polyglot. Maven Polyglot is out there since over 5 years now and can be used to write pom file in other languages such as : Atom Groovy Clojure Ruby Scala YAML To give it a try" />
    <meta property="og:url" content="https://mikrethor.github.io/blog/2017/04/02/Maven-Polyglot-Forget-about-pomxml.html" />
    <meta property="article:published_time" content="2017-04-02T00:00:00.000Z" />
    <meta property="article:tag" content="Maven" />
    <meta property="article:tag" content="Polyglot" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Maven Polyglot - Forget about pom.xml" />
    <meta name="twitter:description" content="Fed up of pom xml files when you use Maven? Here is the solution : Maven Polyglot. Maven Polyglot is out there since over 5 years now and can be used to write pom file in other languages such as : Atom Groovy Clojure Ruby Scala YAML To give it a try" />
    <meta name="twitter:url" content="https://mikrethor.github.io/blog/2017/04/02/Maven-Polyglot-Forget-about-pomxml.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Xavier's Thoughts",
    "author": {
        "@type": "Person",
        "name": "Xavier Bouclet",
        "image": "https://avatars2.githubusercontent.com/u/957393?v=4",
        "url": "https://mikrethor.github.io/blog/author/mikrethor/",
        "sameAs": "https://mikrethor.github.io/blog/",
        "description": "Java, Java EE forever or not... Angular may be...."
    },
    "headline": "Maven Polyglot - Forget about pom.xml",
    "url": "https://mikrethor.github.io/blog/2017/04/02/Maven-Polyglot-Forget-about-pomxml.html",
    "datePublished": "2017-04-02T00:00:00.000Z",
    "keywords": "Maven, Polyglot",
    "description": "Fed up of pom xml files when you use Maven? Here is the solution : Maven Polyglot. Maven Polyglot is out there since over 5 years now and can be used to write pom file in other languages such as : Atom Groovy Clojure Ruby Scala YAML To give it a try"
}
    </script>

    <meta name="generator" content="HubPress" />
    <link rel="alternate" type="application/rss+xml" title="Xavier&#x27;s Thoughts" href="https://mikrethor.github.io/blog/rss/" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/atom-one-dark.min.css">
    
        <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
</head>
<body class="post-template tag-Maven tag-Polyglot nav-closed">

    

    <div class="site-wrapper">

        


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        
    </nav>
</header>

<main class="content" role="main">
    <article class="post tag-Maven tag-Polyglot">

        <header class="post-header">
            <h1 class="post-title">Maven Polyglot - Forget about pom.xml</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2017-04-02">02 April 2017</time>  on <a href="https://mikrethor.github.io/blog/tag/Maven/">Maven</a>, <a href="https://mikrethor.github.io/blog/tag/Polyglot/">Polyglot</a>
            </section>
        </header>

        <section class="post-content">
            <div class="paragraph">
<p>Fed up of pom xml files when you use Maven? Here is the solution : <a href="https://github.com/takari/polyglot-maven">Maven Polyglot</a>.
Maven Polyglot is out there since over 5 years now and can be used to write pom file in other languages such as :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Atom</p>
</li>
<li>
<p>Groovy</p>
</li>
<li>
<p>Clojure</p>
</li>
<li>
<p>Ruby</p>
</li>
<li>
<p>Scala</p>
</li>
<li>
<p>YAML</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To give it a try with an existing project, we have to use the following command line in the project :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mvn io.takari.polyglot:polyglot-translate-plugin:translate -Dinput=pom.xml -Doutput=pom.{format}</pre>
</div>
</div>
<div class="paragraph">
<p>Where {format} is the file extension of the target format.
In my case I tried with YAML format so I replaced {format} with yml.</p>
</div>
<div class="paragraph">
<p>This the pom.xml I tried out :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://maven.apache.org/POM/4.0.0"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;fr.ablx.yml&lt;/groupId&gt;
    &lt;artifactId&gt;backend&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

    &lt;properties&gt;
        &lt;!-- Project Properties --&gt;
        &lt;dataBaseSchema&gt;DATABASE&lt;/dataBaseSchema&gt;
        &lt;!-- Build properties --&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;

        &lt;spring.boot.version&gt;1.4.2.RELEASE&lt;/spring.boot.version&gt;
        &lt;spring.loaded.version&gt;1.2.6.RELEASE&lt;/spring.loaded.version&gt;
        &lt;lombok.version&gt;1.16.10&lt;/lombok.version&gt;
        &lt;jsonpath.version&gt;2.2.0&lt;/jsonpath.version&gt;
        &lt;!-- Report properties --&gt;
        &lt;maven.site.version&gt;3.4&lt;/maven.site.version&gt;
        &lt;asciidoctor.version&gt;1.5.3&lt;/asciidoctor.version&gt;

        &lt;debug&gt;true&lt;/debug&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
            &lt;version&gt;${spring.boot.version}&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;version&gt;${spring.boot.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
            &lt;version&gt;${spring.boot.version}&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;
            &lt;artifactId&gt;json-path&lt;/artifactId&gt;
            &lt;version&gt;2.2.0&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok-maven --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
            &lt;version&gt;${lombok.version}&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!-- https://mvnrepository.com/artifact/org.hsqldb/hsqldb --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;
            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;
            &lt;version&gt;2.3.4&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!-- https://mvnrepository.com/artifact/commons-dbcp/commons-dbcp --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;
            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;
            &lt;version&gt;1.4&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;
            &lt;artifactId&gt;gson&lt;/artifactId&gt;
            &lt;version&gt;2.8.0&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;
            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;
            &lt;version&gt;3.5&lt;/version&gt;
        &lt;/dependency&gt;

    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;resources&gt;
            &lt;resource&gt;
                &lt;filtering&gt;true&lt;/filtering&gt;
                &lt;directory&gt;${project.build.sourceDirectory}\..\resources&lt;/directory&gt;
            &lt;/resource&gt;
        &lt;/resources&gt;
        &lt;testResources&gt;
            &lt;testResource&gt;
                &lt;filtering&gt;true&lt;/filtering&gt;
                &lt;directory&gt;${project.build.testSourceDirectory}\..\resources&lt;/directory&gt;
            &lt;/testResource&gt;
        &lt;/testResources&gt;
        &lt;finalName&gt;mysample-web&lt;/finalName&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;${spring.boot.version}&lt;/version&gt;
                &lt;!-- &lt;configuration&gt; &lt;fork&gt;true&lt;/fork&gt; &lt;jvmArguments&gt; -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005
                    &lt;/jvmArguments&gt; &lt;/configuration&gt; --&gt;
                &lt;dependencies&gt;
                    &lt;dependency&gt;
                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
                        &lt;artifactId&gt;springloaded&lt;/artifactId&gt;
                        &lt;version&gt;${spring.loaded.version}&lt;/version&gt;
                    &lt;/dependency&gt;
                &lt;/dependencies&gt;
            &lt;/plugin&gt;

            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;
                &lt;version&gt;${maven.site.version}&lt;/version&gt;
                &lt;dependencies&gt;
                    &lt;dependency&gt;
                        &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;
                        &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;
                        &lt;version&gt;1.5.3&lt;/version&gt;
                    &lt;/dependency&gt;
                &lt;/dependencies&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

    &lt;repositories&gt;
        &lt;repository&gt;
            &lt;id&gt;spring-snapshots&lt;/id&gt;
            &lt;url&gt;http://repo.spring.io/libs-snapshot&lt;/url&gt;
            &lt;snapshots&gt;
                &lt;enabled&gt;true&lt;/enabled&gt;
            &lt;/snapshots&gt;
        &lt;/repository&gt;
        &lt;repository&gt;
            &lt;id&gt;central&lt;/id&gt;
            &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;
            &lt;releases&gt;
                &lt;enabled&gt;true&lt;/enabled&gt;
            &lt;/releases&gt;
        &lt;/repository&gt;
    &lt;/repositories&gt;

    &lt;pluginRepositories&gt;
        &lt;pluginRepository&gt;
            &lt;id&gt;spring-snapshots&lt;/id&gt;
            &lt;url&gt;http://repo.spring.io/libs-snapshot&lt;/url&gt;
            &lt;snapshots&gt;
                &lt;enabled&gt;true&lt;/enabled&gt;
            &lt;/snapshots&gt;
        &lt;/pluginRepository&gt;
        &lt;pluginRepository&gt;
            &lt;id&gt;central&lt;/id&gt;
            &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;
            &lt;releases&gt;
                &lt;enabled&gt;true&lt;/enabled&gt;
            &lt;/releases&gt;
        &lt;/pluginRepository&gt;
    &lt;/pluginRepositories&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is the pom.yml file I obtained ;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yml" data-lang="yml">modelVersion: 4.0.0
groupId: fr.ablx.yml
artifactId: backend
version: 0.0.1-SNAPSHOT
packaging: jar
properties: {debug: true, asciidoctor.version: 1.5.3, lombok.version: 1.16.10, dataBaseSchema: DATABASE,
  maven.site.version: 3.4, java.version: 1.8, maven.compiler.target: '${java.version}',
  spring.loaded.version: 1.2.6.RELEASE, project.build.sourceEncoding: UTF-8, jsonpath.version: 2.2.0,
  spring.boot.version: 1.4.2.RELEASE, maven.compiler.source: '${java.version}'}
dependencies:
- {artifactId: spring-boot-starter-web, groupId: org.springframework.boot, version: '${spring.boot.version}'}
- {artifactId: spring-boot-starter-test, groupId: org.springframework.boot, scope: test,
  version: '${spring.boot.version}'}
- {artifactId: spring-boot-starter-data-jpa, groupId: org.springframework.boot, version: '${spring.boot.version}'}
- {artifactId: json-path, groupId: com.jayway.jsonpath, scope: test, version: 2.2.0}
- {artifactId: lombok, groupId: org.projectlombok, version: '${lombok.version}'}
- {artifactId: hsqldb, groupId: org.hsqldb, version: 2.3.4}
- {artifactId: commons-dbcp, groupId: commons-dbcp, version: 1.4}
- {artifactId: gson, groupId: com.google.code.gson, scope: test, version: 2.8.0}
- {artifactId: commons-lang3, groupId: org.apache.commons, version: 3.5}
build:
  finalName: mysample-web
  plugins:
  - groupId: org.springframework.boot
    artifactId: spring-boot-maven-plugin
    version: ${spring.boot.version}
    dependencies:
    - {artifactId: springloaded, groupId: org.springframework, version: '${spring.loaded.version}'}
  - groupId: org.apache.maven.plugins
    artifactId: maven-site-plugin
    version: ${maven.site.version}
    dependencies:
    - {artifactId: asciidoctor-maven-plugin, groupId: org.asciidoctor, version: 1.5.3}
  resources:
  - {directory: '${project.build.sourceDirectory}\..\resources', filtering: true}
  testResources:
  - {directory: '${project.build.testSourceDirectory}\..\resources', filtering: true}
pluginRepositories:
- id: spring-snapshots
  layout: default
  snapshots: {enabled: true}
  url: http://repo.spring.io/libs-snapshot
- id: central
  layout: default
  releases: {enabled: true}
  url: https://repo1.maven.org/maven2
pomFile: {}
repositories:
- id: spring-snapshots
  layout: default
  snapshots: {enabled: true}
  url: http://repo.spring.io/libs-snapshot
- id: central
  layout: default
  releases: {enabled: true}
  url: https://repo1.maven.org/maven2</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can see the pom.xml has been shrinked to a pom.yml with 56 line. A win of 100 lines.
So big pom files become more readable.
After the creation of the pom.yml, I had to add the following extensions.xml in my project :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;extensions&gt;
  &lt;extension&gt;
    &lt;groupId&gt;io.takari.polyglot&lt;/groupId&gt;
    &lt;artifactId&gt;polyglot-yaml&lt;/artifactId&gt;
    &lt;version&gt;0.1.19&lt;/version&gt;
  &lt;/extension&gt;
&lt;/extensions&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Yes we can&#8217;t remove XML completely but this file is rather simple and may be one day we will be able to completely get rid of it.
The extensions.xml has to be placed in the project folder in the folder .mvn.</p>
</div>
<div class="paragraph">
<p>The pom.yml file went fine except for the line pomFile:{}.
This line broke my build but when I removed it everything went back to normal.</p>
</div>
<div class="paragraph">
<p>Now I am able to use my mvn command as before.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[INFO]
[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ backend ---
[INFO] Building jar: /home/thor/projets/sources/java/backendyml/target/mysample-web.jar
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 7.960 s
[INFO] Finished at: 2017-04-02T16:56:33-04:00
[INFO] Final Memory: 20M/403M
[INFO] ------------------------------------------------------------------------</pre>
</div>
</div>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="https://mikrethor.github.io/blog/author/mikrethor/" style="background-image: url(https://avatars2.githubusercontent.com/u/957393?v&#x3D;4)"><span class="hidden">Xavier Bouclet's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="https://mikrethor.github.io/blog/author/mikrethor/">Xavier Bouclet</a></h4>

                    <p>Java, Java EE forever or not... Angular may be....</p>
                <div class="author-meta">
                    <span class="author-location icon-location">Montreal</span>
                    <span class="author-link icon-link"><a href="https://mikrethor.github.io/blog/">https://mikrethor.github.io/blog/</a></span>
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=Maven%20Polyglot%20-%20Forget%20about%20pom.xml&amp;url=https://mikrethor.github.io/blog/"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://mikrethor.github.io/blog/"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://mikrethor.github.io/blog/"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


        <section class="post-comments">
          <div id="disqus_thread"></div>
          <script type="text/javascript">
          var disqus_shortname = 'https-mikrethor-github-io-blog'; // required: replace example with your forum shortname
          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </section>


    </article>

</main>

<aside class="read-next">
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="https://mikrethor.github.io/blog">Xavier&#x27;s Thoughts</a> &copy; 2019</section>
            <section class="poweredby">Proudly published with <a href="http://hubpress.io">HubPress</a></section>
        </footer>

    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();
      </script>

    <script type="text/javascript" src="//mikrethor.github.io/blog/themes/casper/assets/js/jquery.fitvids.js?v=1571362660066"></script>
    <script type="text/javascript" src="//mikrethor.github.io/blog/themes/casper/assets/js/index.js?v=1571362660066"></script>

</body>
</html>
